services:
    postgres:
        image: postgres:18
        container_name: sammo_postgres
        environment:
            POSTGRES_DB: ${POSTGRES_DB:-sammo}
            POSTGRES_USER: ${POSTGRES_USER:-sammo}
            POSTGRES_PASSWORD: ${POSTGRES_PASSWORD:-change_me}
            TZ: Asia/Seoul
        ports:
            - '127.0.0.1:15432:5432'
        volumes:
            - pgdata18:/var/lib/postgresql

    redis:
        image: redis:8
        container_name: sammo_redis
        command: ['redis-server', '--appendonly', 'yes', '--requirepass', '${REDIS_PASSWORD:-change_me}']
        ports:
            - '127.0.0.1:16379:6379'
        volumes:
            - redisdata:/data

volumes:
    pgdata18:
    redisdata:
